---
import "../styles/global.css";

const {
  marque,
  presentation,
  description,
  tags = [],
  images = [],
  chiffre1,
  chiffre2,
  chiffre3,
  stat1,
  stat2,
  stat3,
  link
} = Astro.props;
---
 
<main class="md:pt-10">
  <section class="text-black md:px-6 relative">
    <div class="bg-white border-2 border-green-max rounded-2xl p-6 md:p-10 mx-auto relative">

      <!-- Header -->
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-6">

        <h2 class="text-3xl md:text-4xl font-serif">
          {marque}
        </h2>

        <a
          href={link}
          rel="nofollow"
          target="_blank"
          class="
            inline-flex items-center justify-center px-4 py-2 text-lg md:text-xl font-medium text-white 
            rounded-lg select-none relative antialiased

            bg-[#041E18]
            bg-gradient-to-b from-[#041E18]/30 to-[#041E18]/90

            border border-[#284F46]/80
            hover:border-[#36F4A4]/70

            shadow-sm hover:shadow-md
            duration-300 ease-in

            after:absolute after:inset-0 after:rounded-[inherit]
            after:pointer-events-none
            after:shadow-[inset_0_1px_0_rgba(255,255,255,0.22),inset_0_-2px_0_rgba(4,30,24,0.55)]
          "
        >
          Visiter le site
        </a>

      </div>

      <!-- Sous-titre -->
      <div class="mb-6">
        <span class="font-title text-xl md:text-2xl bg-green-max px-2 py-1 rounded-md">
          {presentation}
        </span>
      </div>

      <!-- Layout principal -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">

        <!-- Colonne gauche -->
        <div class="flex flex-col justify-between">

          <!-- Tags -->
          <div class="flex flex-wrap gap-2 md:gap-3 mb-4">
            {tags.map(tag => (
              <span
                class="
                  inline-flex items-center px-3 py-1 text-xs md:text-sm font-medium text-white 
                  rounded-md antialiased relative select-none

                  bg-[#041E18]
                  bg-gradient-to-b from-[#041E18]/40 to-[#041E18]/90

                  border border-[#284F46]/70
                  shadow-sm

                  after:absolute after:inset-0 after:rounded-[inherit]
                  after:pointer-events-none
                  after:shadow-[inset_0_1px_0_rgba(255,255,255,0.18)]
                "
              >
                {tag}
              </span>
            ))}
          </div>

          <!-- Description -->
          <p class="font-title text-left leading-relaxed text-sm md:text-lg mb-6 hidden md:block">
            {description}
          </p>

          <!-- Stats (desktop seulement) -->
          <div
            class="
              hidden md:grid md:grid-cols-3 
              rounded-2xl border border-[#284F46]/30 backdrop-blur-sm
              text-center overflow-hidden
            "
          >
            <div class="py-6 border-r border-[#284F46]/30 flex flex-col">
              <p class="text-3xl font-extrabold">{chiffre1}</p>
              <p class="text-sm">{stat1}</p>
            </div>

            <div class="py-6 border-r border-[#284F46]/30 flex flex-col">
              <p class="text-3xl font-extrabold">{chiffre2}</p>
              <p class="text-sm">{stat2}</p>
            </div>

            <div class="py-6 flex flex-col">
              <p class="text-3xl font-extrabold">{chiffre3}</p>
              <p class="text-sm">{stat3}</p>
            </div>
          </div>

        </div>

        <!-- Colonne droite : images -->
        {images.length > 0 && (
          <div class="grid gap-4">
            {images.map(img => (
              <img
                src={img}
                alt={marque}
                class="
                  object-cover object-top w-full 
                  h-48 sm:h-64 md:h-80 lg:h-96
                  rounded-xl border-2 border-gray-400/50
                "
              />
            ))}
          </div>
        )}

      </div>
    </div>
  </section>
</main>
