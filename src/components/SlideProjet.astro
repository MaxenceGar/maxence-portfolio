---
// Le JavaScript pour le fonctionnement du carrousel sera injecté ici
// Le style est déjà géré par Tailwind via global.css (importé ailleurs)
---

<section class="max-w-7xl mx-auto py-12 md:py-24 font-title px-4 md:px-0">
  <h2 class="text-4xl sm:text-6xl font-bold text-center text-white/90 pb-12">
    Mes Réalisations
  </h2>

  <div class="relative">
    <div id="slider-container" class="overflow-hidden rounded-xl shadow-2xl">
      <div
        id="slides"
        class="flex transition-transform duration-500 ease-in-out"
        style="width: 500%;"
      >
        <div class="w-full p-2 md:p-8 bg-[#1a382e]">
          <h3
            class="text-3xl sm:text-4xl font-semibold text-center text-white/90"
          >
            Mise en valeur de l'information (FAQ)
          </h3>
          <p class="text-center mb-7 max-w-3xl mx-auto">
            Conception d'une section modulable (Photo ou Video /FAQ) pour
            améliorer l'engagement et l'autonomie du client, réduisant les
            requêtes au support.
          </p>
          <div class="max-w-7xl mx-auto">
            <img
              src="/images/img-with-faq.webp"
              class="w-full h-auto object-cover rounded-lg"
              alt="Exemple de section avec du texte et une FAQ"
            />
          </div>
        </div>
        <div class="w-full p-2 md:p-8 bg-[#1a382e]">
          <h3
            class="text-3xl sm:text-4xl font-semibold text-center text-white/90"
          >
            Focus sur la Conversion (Social Proof)
          </h3>
          <p class="text-center mb-7 max-w-3xl mx-auto">
            Développement d'une section d'avis clients sur mesure intégrant des
            liens produits directs pour maximiser la preuve sociale et faciliter
            l'achat immédiat.
          </p>
          <div class="max-w-7xl mx-auto">
            <img
              src="/images/avis.webp"
              class="w-full h-auto object-cover rounded-lg"
              alt="Exemple de section avec du texte et une FAQ"
            />
          </div>
        </div>
        <div class="w-full p-2 md:p-8 bg-[#1a382e]">
          <h3
            class="text-3xl sm:text-4xl font-semibold text-center text-white/90"
          >
            Chiffres et Urgence (AOV)
          </h3>
          <p class="text-center mb-7 max-w-3xl mx-auto">
            Intégration d'une jauge de panier personnalisée pour inciter à
            l'upsell et visualiser le seuil de livraison gratuite, augmentant
            ainsi le panier moyen (AOV).
          </p>
          <div class="max-w-7xl mx-auto">
            <img
              src="/images/panier.webp"
              class="w-full h-auto object-cover rounded-lg"
              alt="Exemple de section avec du texte et une FAQ"
            />
          </div>
        </div>
        <div class="w-full p-2 md:p-8 bg-[#1a382e]">
          <h3
            class="text-3xl sm:text-4xl font-semibold text-center text-white/90"
          >
            Objectif Commercial (Saisonnalité/Lancement)
          </h3>
          <p class="text-center mb-7 max-w-3xl mx-auto">
            Conception et développement de Landing Pages ultra-performantes,
            optimisées pour les campagnes saisonnières (BFCM) ou les lancements
            de produits.
          </p>
          <div class="max-w-7xl mx-auto">
            <img
              src="/images/landing-page.webp"
              class="w-full h-auto object-cover rounded-lg"
              alt="Exemple de section avec du texte et une FAQ"
            />
          </div>
        </div>
        <div class="w-full p-2 md:p-8 bg-[#1a382e]">
          <h3
            class="text-3xl sm:text-4xl font-semibold text-center text-white/90"
          >
            Contrôle et SEO (Navigation)
          </h3>
          <p class="text-center mb-7 max-w-3xl mx-auto">
            Mise en place d'un fil d'Ariane dynamique lié aux Metafields pour un
            contrôle éditorial total sur le SEO et une navigation produit
            impeccable.
          </p>
          <div class="max-w-7xl mx-auto">
            <img
              src="/images/fil-dariane.webp"
              class="w-full h-auto object-cover rounded-lg"
              alt="Exemple de section avec du texte et une FAQ"
            />
          </div>
        </div>
      </div>
    </div>

    <button
      id="prev-button"
      class="absolute left-0 top-1/2 -translate-y-1/2 transform p-3 bg-black/50 text-white rounded-r-lg hover:bg-black/80 transition z-10"
    >
      &#10094;
    </button>
    <button
      id="next-button"
      class="absolute right-0 top-1/2 -translate-y-1/2 transform p-3 bg-black/50 text-white rounded-l-lg hover:bg-black/80 transition z-10"
    >
      &#10095;
    </button>
  </div>
</section>

<script>
  // Utilisation de client:only pour s'assurer que le JS s'exécute, même si ce n'est pas le composant racine
  document.addEventListener("DOMContentLoaded", () => {
    const slides = document.getElementById("slides");
    const prevButton = document.getElementById("prev-button");
    const nextButton = document.getElementById("next-button");
    const sliderContainer = document.getElementById("slider-container");

    // Vérifie si les éléments existent avant d'ajouter des écouteurs d'événements
    if (!slides || !prevButton || !nextButton || !sliderContainer) return;

    const totalSlides = slides.children.length;
    let currentSlide = 0;

    const updateSlider = () => {
      // Calcul du décalage: (index * -100%)
      const offset = currentSlide * (-100 / totalSlides);
      slides.style.transform = `translateX(${offset}%)`;
    };

    nextButton.addEventListener("click", () => {
      currentSlide = (currentSlide + 1) % totalSlides;
      updateSlider();
    });

    prevButton.addEventListener("click", () => {
      currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
      updateSlider();
    });

    // Si vous changez le nombre de slides dans le HTML, vous devez ajuster la propriété style.width ici
    // Exemple pour 3 slides : slides.style.width = '300%';

    // Initialisation
    updateSlider();
  });
</script>
